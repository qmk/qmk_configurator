import{_ as ve,t as fe,g as L,s as c,u as v,b as be,a as Re,n as p,m as S,c as w,d as u,e as g,f,V as h,h as ke,i as n,r as Oe,j as Ue,P as _e,k,l as we,o as Ae,p as Ie,q as Pe,v as Me,w as Be,x as qe,y as Je,z as Ye,A as Ve,B as Y}from"./index-Cee48sVZ.js";import{B as _,a as He}from"./BaseKey-R-VSqmf3.js";function We(e,a,t){var r=-1,i=e.length;a<0&&(a=-a>i?0:i+a),t=t>i?i:t,t<0&&(t+=i),i=a>t?0:t-a>>>0,a>>>=0;for(var s=Array(i);++r<i;)s[r]=e[r+a];return s}var Ge=We,Qe=Ge;function Xe(e,a,t){var r=e.length;return t=t===void 0?r:t,!a&&t>=r?e:Qe(e,a,t)}var Ze=Xe;function et(e){return e.split("")}var tt=et,xe="\\ud800-\\udfff",at="\\u0300-\\u036f",rt="\\ufe20-\\ufe2f",it="\\u20d0-\\u20ff",st=at+rt+it,ot="\\ufe0e\\ufe0f",nt="["+xe+"]",U="["+st+"]",A="\\ud83c[\\udffb-\\udfff]",lt="(?:"+U+"|"+A+")",$e="[^"+xe+"]",Ce="(?:\\ud83c[\\udde6-\\uddff]){2}",Le="[\\ud800-\\udbff][\\udc00-\\udfff]",ct="\\u200d",Se=lt+"?",Te="["+ot+"]?",dt="(?:"+ct+"(?:"+[$e,Ce,Le].join("|")+")"+Te+Se+")*",ut=Te+Se+dt,pt="(?:"+[$e+U+"?",U,Ce,Le,nt].join("|")+")",mt=RegExp(A+"(?="+A+")|"+pt+ut,"g");function gt(e){return e.match(mt)||[]}var ht=gt,yt=tt,vt=ve,ft=ht;function bt(e){return vt(e)?ft(e):yt(e)}var kt=bt,_t=Ze,wt=ve,xt=kt,$t=fe;function Ct(e){return function(a){a=$t(a);var t=wt(a)?xt(a):void 0,r=t?t[0]:a.charAt(0),i=t?_t(t,1).join(""):a.slice(1);return r[e]()+i}}var Lt=Ct,St=Lt,Tt=St("toUpperCase"),Kt=Tt,Ft=fe,jt=Kt;function Nt(e){return jt(Ft(e).toLowerCase())}var Et=Nt;const Dt=L(Et);let z,zt="Baking";function I(e){const a=v();a.append(e),a.scrollToEnd()}function Rt(e,a,t){Ke();let r=c.state.keymap.templates.keymap;const i=c.getters["keymap/exportLayers"]({compiler:!0});let s=JSON.stringify({...r,keyboard:e,keymap:a,layout:t,layers:i});console.log(s);const o=v();o.empty&&o.append(`
`),o.append(`* Sending ${e}:${a} with ${t}`),fetch(be,{method:"POST",headers:{"Content-Type":"application/json"},body:s}).then(async l=>{if(l.ok){c.commit("app/setShowSpinner",!0);const m=await l.json();m.enqueued&&(o.append(`
* Received job_id: ${m.job_id}`),o.scrollToEnd(),c.commit("app/setJobID",m.job_id),P())}else throw l}).catch(l=>{window.alert("Unexpected error ",console.log(l))})}function C(){c.commit("app/enableCompile"),setTimeout(()=>{c.commit("app/setShowSpinner",!1)},2e3)}function Ke(){c.commit("app/disableCompile")}function Ot(){c.commit("app/setEnableDownloads")}function Fe(){c.commit("app/setDisableDownloads")}function P(){const e=`${be}/${c.state.app.jobID}`,a=performance.now(),t=v();fetch(e).then(async r=>{console.log(`response in ${performance.now()-a}ms`,r);let i;const s=await r.json();if(!r.ok)console.log("Unexpected status",s.status),C();else{const o=Math.floor(2500+Math.random()*1e3);switch(console.log(`Next Poll in ${o}ms`),s.status){case"finished":c.commit("app/setSpinnerMsg","Done!"),t.append(`
* Finished:
${s.result.output.replace(/\[.*m/gi,"")}`),c.commit("app/setFirmwareBinaryURL",s.result.firmware_binary_url),c.commit("app/setFirmwareSourceURL",s.result.firmware_source_url),c.commit("app/setKeymapSourceURL",s.result.firmware_keymap_url),c.commit("app/setFirmwareFile",s.result.firmware_filename),C(),Ot();break;case"queued":c.commit("app/setSpinnerMsg","Waiting for Oven"),i=z==="queued"?" .":`
* Queueing`,t.append(i),setTimeout(P,o);break;case"running":c.commit("app/setSpinnerMsg",zt),i=z==="running"?" .":`
* Running`,t.append(i),setTimeout(P,o);break;case"unknown":c.commit("app/setSpinnerMsg","Abort! Abort!"),C();break;case"failed":c.commit("app/setSpinnerMsg","Abort! Abort!"),I(`
* Failed
`),s.result&&I(`* Error:
${s.result.output}`),C();break;default:c.commit("app/setSpinnerMsg","Abort! Abort!"),console.log("Unexpected status",s.status),C()}}t.scrollToEnd(),z=s.status}).catch(r=>{window.alert("Unexpected error while compiling ",console.log(r))})}const j=Re("This will clear your keymap - are you sure you want to <%= action %>?");var Ut=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{attrs:{id:"controller-top"}},[t("div",{staticClass:"topctrl"},[t("div",{staticClass:"topctrl-keyboards"},[t("a",{directives:[{name:"tooltip",rawName:"v-tooltip",value:e.$t("favoriteKeyboard"),expression:"$t('favoriteKeyboard')"}],class:{active:e.isFavoriteKeyboard},attrs:{id:"favorite-keyboard"},on:{click:e.favKeyboard}},[t("font-awesome-icon",{attrs:{icon:"star",size:"lg","fixed-width":""}})],1),t("label",{directives:[{name:"tooltip",rawName:"v-tooltip",value:e.keyboards.length+" keyboards",expression:"`${keyboards.length} keyboards`"}],staticClass:"drop-label",attrs:{id:"drop-label-keyboard"}},[e._v(e._s(e.$t("keyboard.label"))+":")]),t("v-select",{ref:"select",attrs:{clearable:!1,options:e.keyboards},on:{"search:focus":e.opened,"search:blur":e.blur},model:{value:e.keyboard,callback:function(r){e.keyboard=r},expression:"keyboard"}}),t("a",{directives:[{name:"tooltip",rawName:"v-tooltip.bottom",value:e.$t("githubKeyboardFolder.title"),expression:"$t('githubKeyboardFolder.title')",modifiers:{bottom:!0}}],attrs:{id:"open-on-github",rel:"noopener",target:"_blank",href:e.githubKeyboardFolderURL}},[t("font-awesome-icon",{attrs:{icon:"fa-brands fa-github",size:"lg","fixed-width":""}})],1)],1),t("div",{staticClass:"topctrl-layouts"},[t("label",{directives:[{name:"tooltip",rawName:"v-tooltip.top-end",value:Object.keys(e.layouts).length+" layouts",expression:"`${Object.keys(layouts).length} layouts`",modifiers:{"top-end":!0}}],staticClass:"drop-label",attrs:{id:"drop-label-version"}},[e._v(e._s(e.$t("layout.label"))+":")]),t("v-select",{attrs:{clearable:!1,options:Object.keys(e.layouts)},on:{"search:focus":e.focus,"search:blur":e.blur},model:{value:e.layout,callback:function(r){e.layout=r},expression:"layout"}})],1),t("div",{staticClass:"topctrl-keymap-name"},[t("label",{staticClass:"drop-label",class:e.fontAdjustClasses},[e._v(e._s(e.$t("keymapName.label"))+":")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.keymapName,expression:"keymapName"}],attrs:{id:"keymap-name",type:"text",placeholder:e.$t("keymapName.placeholder"),spellcheck:"false"},domProps:{value:e.keymapName},on:{focus:e.focus,blur:e.blur,input:function(r){r.target.composing||(e.keymapName=r.target.value)}}})]),t("div",{staticClass:"topctrl-controls"},[t("button",{directives:[{name:"tooltip",rawName:"v-tooltip",value:e.$t("loadDefault.title"),expression:"$t('loadDefault.title')"}],staticClass:"ui-button",attrs:{id:"load-default"},on:{click:e.loadDefault}},[e._v(" "+e._s(e.$t("loadDefault.label"))+" ")]),t("button",{directives:[{name:"tooltip",rawName:"v-tooltip",value:e.$t("compile.title"),expression:"$t('compile.title')"}],staticClass:"ui-button",attrs:{id:"compile",disabled:e.compileDisabled},on:{click:e.compile}},[e._v(" "+e._s(e.$t("compile.label"))+" ")])])])])},At=[];const{isNavigationFailure:K,NavigationFailureType:F}=ke,It={name:"ControllerTop",data:()=>({firstRun:!0}),computed:{...f("keymap",["isDirty"]),...f("app",["exportKeymapName"]),...g("app",["keyboard","keyboards","layouts","layout","configuratorSettings","compileDisabled"]),isFavoriteKeyboard(){return this.keyboard===this.configuratorSettings.favoriteKeyboard},keymapName:{get(){return this.$store.state.app.keymapName},set(e){this.updateKeymapName(e)}},githubKeyboardFolderURL(){return`https://github.com/qmk/qmk_firmware/tree/master/keyboards/${this.keyboard}`},keyboard:{get(){return this.$store.state.app.keyboard},set(e){if(this.isDirty&&!confirm(j({action:"change your keyboard"}))){var a=this.keyboard;return this.setKeyboard(""),h.nextTick(()=>{this.setKeyboard(a)}),!1}this.updateKeyboard(e).then(()=>{this.loadDefault(!0)})}},layout:{get(){return this.$store.state.app.layout},set(e){if(this.isDirty&&!confirm(j({action:"change your layout"}))){const a=this.layout;return this.setLayout(""),h.nextTick(()=>this.setLayout(a)),!1}this.clear(),this.updateLayout({target:{value:e}})}},fontAdjustClasses(){let e=[];return this.$t("keymapName.label").length>12&&e.push("half-size"),e.join(" ")}},watch:{$route:function(e){if(e.query){const a=e.query.filter;if(!n(a)){this.updateFilter(a),this.updateKeyboard(k(this.keyboards));return}if(e.params){this.setLayout(e.params.layoutP),this.previewRequested||this.updateKeyboard(e.params.keyboardP);return}}}},async mounted(){await this.initializeKeyboards(),this.isDirty||await this.loadDefault(!0),await this.initTemplates()},methods:{...u("keymap",["resizeConfig","clear"]),...u("app",["setLayout","stopListening","startListening","previewRequested","setKeyboard"]),...w("app",["changeKeyboard","fetchKeyboards","loadDefaultKeymap","updateKeymapName","setFavoriteKeyboard"]),...w("keymap",["initTemplates","load_converted_keymap"]),...S(v,["append","setDeferredMessage","clearStatus","viewReadme"]),async loadDefault(e=!1){if(this.isDirty&&!confirm(j({action:"load default keymap"})))return!1;const a=this.$store;try{const t=await this.loadDefaultKeymap();return t&&(console.log(t),this.updateLayout(t.layout),new Promise(i=>a.commit("keymap/setLoadingKeymapPromise",i)).then(async()=>{this.updateKeymapName("");const i=await this.load_converted_keymap(t.layers);let s=this.$t("statsTemplate",i);(i.warnings.length>0||i.errors.length>0)&&(s=`${s}
${i.warnings.join(`
`)}`,s=`${s}
${i.errors.join(`
`)}`),e?(this.append(s),this.setDeferredMessage(s)):a.commit("keymap/setDirty")}))}catch(t){I(`
* Sorry there is no default for the ${this.keyboard} keyboard... yet!`),console.log("error loadDefault",t)}},async initializeKeyboards(){console.info(`initializeKeyboards: ${this.keyboard}`);let e="";if(this.$route.query){let r=this.$route.query.filter;n(r)||this.updateFilter(r)}this.keyboard?(e=this.keyboard,console.info(`Loading keyboard from store:${e}`)):e=this.keyboards[Oe(this.keyboards.length-1)],console.log(`_keyboard:${e}`);let{keyboardP:a,layoutP:t}=this.$route.params;Ue(a)&&a!==""&&a!==_e&&(e=a,this.firstRun=!1),this.setLayout(t),await this.updateKeyboard(e)},async updateKeyboard(e){this.firstRun&&(this.firstRun=!1),e!==this.keyboard&&Fe(),await this.changeKeyboard(e).then(this.postUpdateKeyboard)},favKeyboard(){this.keyboard===this.configuratorSettings.favoriteKeyboard?this.setFavoriteKeyboard(""):this.setFavoriteKeyboard(this.keyboard)},postUpdateKeyboard(){this.clearStatus(),this.$router.replace({path:`/${this.keyboard}/${this.layout}`}).catch(e=>{if(!K(e,F.duplicated)&&!K(e,F.cancelled))throw e}),this.viewReadme(this.keyboard)},updateLayout(e){const a=e.target?e.target.value:e;this.setLayout(a),this.$router.replace({path:`/${this.keyboard}/${this.layout}`}).catch(t=>{if(!K(t,F.duplicated)&&!K(t,F.cancelled))throw t})},compile(){let e=this.keymapName,a=this.exportKeymapName;e=e===""?a.slice(this.keyboard.length+1,a.length):e,Rt(this.keyboard,e,this.layout)},updateFilter(e){this.$store.commit("app/setFilter",e)},opened(){this.stopListening();const e=this.$refs.select;h.nextTick(()=>{const a=e.$el.querySelector(".vs__dropdown-menu .vs__dropdown-option--selected");if(a){var t=a.offsetTop-a.offsetHeight;e.typeAheadPointer=this.keyboards.indexOf(this.keyboard),e.$el.scrollTo(t>0?t:0,0)}})},focus(){this.stopListening()},blur(){this.startListening()}}},V={};var Pt=p(It,Ut,At,!1,Mt);function Mt(e){for(let a in V)this[a]=V[a]}const Bt=function(){return Pt.exports}();var qt=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{attrs:{id:"status"}},[t("textarea",{directives:[{name:"model",rawName:"v-model",value:e.message,expression:"message"}],ref:"terminal",class:e.terminalClasses,attrs:{id:"terminal",readonly:""},domProps:{value:e.message},on:{input:function(r){r.target.composing||(e.message=r.target.value)}}}),e._v(" "),t("div",{class:e.terminalClasses,attrs:{id:"toggle-terminal"},on:{click:e.toggleTerminal}},[t("label",{attrs:{for:"toggle-terminal-chevron",id:"toggle-terminal-label"}},[e._v(e._s(e.$t("toggleTerminal.label")))]),t("font-awesome-icon",{attrs:{icon:"chevron-up",size:"lg","fixed-width":"",id:"toggle-terminal-chevron",title:e.$t("toggleTerminal.title")}})],1)])},Jt=[];const Yt={name:"status-panel",watch:{message(e,a){this.scrollToLatest&&e!==a&&(this.scrollViewportToEnd(),this.doneScroll())},compileDisabled(e){e===!0&&(this.isTerminalOpen=!0)}},methods:{...S(v,["doneScroll"]),scrollViewportToEnd(){let e=this.$refs.terminal;this.$nextTick(()=>{e.scrollTop=e.scrollHeight})},toggleTerminal(){this.isTerminalOpen=!this.isTerminalOpen}},computed:{...we(v,["message","scrollToLatest"]),...g("app",["compileDisabled"]),terminalClasses(){const e=[];return this.isTerminalOpen||e.push("collapsed"),e.join(" ")}},data:()=>({isTerminalOpen:!0})},H={};var Vt=p(Yt,qt,Jt,!1,Ht);function Ht(e){for(let a in H)this[a]=H[a]}const Wt=function(){return Vt.exports}();var Gt=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",[t("button",{staticClass:"fixed-size",attrs:{id:"fwFile",title:e.$t("flashFirmware.title"),disabled:e.disableDownloadBinary},on:{click:e.autoFlashFirmware}},[t("font-awesome-icon",{attrs:{icon:"download",size:"lg","fixed-width":""}}),e._v(" "+e._s(e.$t("flashFirmware.label"))+" ")],1),t("button",{staticClass:"fixed-size",attrs:{id:"fwFile",title:e.$t("flashFile.title"),disabled:e.disableFlashFile},on:{click:e.flashFirmware}},[t("font-awesome-icon",{attrs:{icon:"download",size:"lg","fixed-width":""}}),e._v(" "+e._s(e.$t("flashFile.label"))+" ")],1)])},Qt=[];const Xt={name:"ElectronBottomControls",props:{disableDownloadBinary:{type:Boolean,required:!0,default:!0}},computed:{...g("app",["keyboard","firmwareBinaryURL","firmwareFile"]),disableFlashFile(){return!window.Bridge.enableFlashing},disableFlashSource(){return!window.Bridge.enableFlashing||n(this.firmwareBinaryURL)||this.firmwareBinaryURL===""}},methods:{flashFirmware(){window.Bridge.autoFlash=!1,window.Bridge.flashFile()},autoFlashFirmware(){window.Bridge.autoFlash=!0,window.Bridge.flashURL(k(this.firmwareBinaryURL),this.keyboard,this.firmwareFile)}}},W={};var Zt=p(Xt,Gt,Qt,!1,ea);function ea(e){for(let a in W)this[a]=W[a]}const ta=function(){return Zt.exports}(),aa={"2_milk":{target:"spaceman/2_milk"},"6ball":{target:"maple_computing/6ball"},"7skb/rev1":{target:"salicylic_acid3/7skb/rev1"},"7splus":{target:"salicylic_acid3/7splus"},absinthe:{target:"keyhive/absinthe"},acr60:{target:"mechkeys/acr60"},adalyn:{target:"tominabox1/adalyn"},"aeboards/ext65":{target:"aeboards/ext65/rev1"},"ai03/equinox":{target:"ai03/equinox/rev1"},ajisai74:{target:"salicylic_acid3/ajisai74"},aleth42:{target:"25keys/aleth42"},alice:{target:"tgr/alice"},alicia_cook:{target:"ibnuda/alicia_cook"},allison:{target:"prototypist/allison"},allison_numpad:{target:"prototypist/allison_numpad"},alu84:{target:"mechkeys/alu84"},amj40:{target:"amjkeyboard/amj40"},amj60:{target:"amjkeyboard/amj60"},amj96:{target:"amjkeyboard/amj96"},amjpad:{target:"amjkeyboard/amjpad"},angel17:{target:"angel17/alpha"},"angel17/alpha":{target:"kakunpc/angel17/alpha"},"angel17/rev1":{target:"kakunpc/angel17/rev1"},angel64:{target:"angel64/alpha"},"angel64/alpha":{target:"kakunpc/angel64/alpha"},"angel64/rev1":{target:"kakunpc/angel64/rev1"},aplx6:{target:"aplyard/aplx6/rev1"},arch_36:{target:"obosob/arch_36"},at101_bh:{target:"viktus/at101_bh"},at101_blackheart:{target:"at101_bh"},"atom47/rev2":{target:"maartenwut/atom47/rev2"},"atom47/rev3":{target:"maartenwut/atom47/rev3"},bakeneko60:{target:"kkatano/bakeneko60"},bakeneko65:{target:"bakeneko65/rev2"},"bakeneko65/rev2":{target:"kkatano/bakeneko65/rev2"},"bakeneko65/rev3":{target:"kkatano/bakeneko65/rev3"},bakeneko80:{target:"kkatano/bakeneko80"},barleycorn:{target:"yiancardesigns/barleycorn"},"bat43/rev1":{target:"dailycraft/bat43/rev1"},"bat43/rev2":{target:"dailycraft/bat43/rev2"},bear_65:{target:"jacky_studio/bear_65"},bear_face:{target:"bear_face/v1"},"bigseries/1key":{target:"woodkeys/bigseries/1key"},"bigseries/2key":{target:"woodkeys/bigseries/2key"},"bigseries/3key":{target:"woodkeys/bigseries/3key"},"bigseries/4key":{target:"woodkeys/bigseries/4key"},bkf:{target:"drhigsby/bkf"},bm16a:{target:"kprepublic/bm16a"},bm16s:{target:"kprepublic/bm16s"},bm40hsrgb:{target:"kprepublic/bm40hsrgb"},bm43a:{target:"kprepublic/bm43a"},bm60poker:{target:"kprepublic/bm60poker"},bm60rgb:{target:"kprepublic/bm60rgb"},bm60rgb_iso:{target:"kprepublic/bm60rgb_iso"},bm65iso:{target:"kprepublic/bm65iso"},bm68rgb:{target:"kprepublic/bm68rgb"},"bpiphany/pegasushoof":{target:"bpiphany/pegasushoof/2013"},"business_card/alpha":{target:"kakunpc/business_card/alpha"},"business_card/beta":{target:"kakunpc/business_card/beta"},butterstick:{target:"gboards/butterstick"},c39:{target:"maple_computing/c39"},"candybar/lefty":{target:"tkc/candybar/lefty"},"candybar/righty":{target:"tkc/candybar/righty"},canoe:{target:"percent/canoe"},cassette42:{target:"25keys/cassette42"},chavdai40:{target:"chavdai40/rev1"},chidori:{target:"kagizaraya/chidori"},chili:{target:"ydkb/chili"},chimera_ergo:{target:"glenpickle/chimera_ergo"},chimera_ls:{target:"glenpickle/chimera_ls"},chimera_ortho:{target:"glenpickle/chimera_ortho"},chimera_ortho_plus:{target:"glenpickle/chimera_ortho_plus"},choc_taro:{target:"kakunpc/choc_taro"},choco60:{target:"recompile_keys/choco60"},christmas_tree:{target:"maple_computing/christmas_tree"},"claw44/rev1":{target:"dailycraft/claw44/rev1"},"clawsome/gamebuddy":{target:"clawsome/gamebuddy/v1_0"},"cmm_studio/saka68":{target:"cmm_studio/saka68/solder"},cocoa40:{target:"recompile_keys/cocoa40"},comet46:{target:"satt/comet46"},cospad:{target:"kprepublic/cospad"},"crkbd/rev1/common":{target:"crkbd/rev1"},"crkbd/rev1/legacy":{target:"crkbd/rev1"},cu24:{target:"capsunlocked/cu24"},cu75:{target:"capsunlocked/cu75"},cu80:{target:"capsunlocked/cu80/v1"},daisy:{target:"ktec/daisy"},delilah:{target:"rainkeebs/delilah"},diverge3:{target:"unikeyboard/diverge3"},divergetm2:{target:"unikeyboard/divergetm2"},"doro67/multi":{layouts:{LAYOUT_ansi:"LAYOUT_65_ansi_blocker"}},"doro67/regular":{layouts:{LAYOUT:"LAYOUT_65_ansi_blocker"}},"doro67/rgb":{layouts:{LAYOUT:"LAYOUT_65_ansi_blocker"}},dozen0:{target:"yynmt/dozen0"},drakon:{target:"jagdpietr/drakon"},dubba175:{target:"drhigsby/dubba175"},dumbpad:{target:"dumbpad/v0x"},"durgod/k320":{target:"durgod/k3x0/k320/base"},"dztech/dz60rgb":{target:"dztech/dz60rgb/v1"},"dztech/dz60rgb_ansi":{target:"dztech/dz60rgb_ansi/v1"},"dztech/dz60rgb_wkl":{target:"dztech/dz60rgb_wkl/v1"},"dztech/dz65rgb":{target:"dztech/dz65rgb/v1"},"dztech/volcano660":{target:"ilumkb/volcano660"},eek:{target:"eek/silk_down"},eggman:{target:"qpockets/eggman"},ergo42:{target:"biacco42/ergo42"},ergoarrows:{target:"salicylic_acid3/ergoarrows"},"ergodash/mini":{target:"omkbd/ergodash/mini"},"ergodash/rev1":{target:"omkbd/ergodash/rev1"},ergodone:{target:"ktec/ergodone"},ergodox_ez:{target:"ergodox_ez/base"},ergodox_infinity:{target:"input_club/ergodox_infinity"},ergoinu:{target:"dm9records/ergoinu"},ergosaurus:{target:"keyhive/ergosaurus"},ergotaco:{target:"gboards/ergotaco"},espectro:{target:"mechkeys/espectro"},"exclusive/e85":{target:"exclusive/e85/hotswap"},felix:{target:"unikeyboard/felix"},four_banger:{target:"bpiphany/four_banger"},freyr:{target:"hnahkb/freyr"},function96:{target:"function96/v1"},geminate60:{target:"weirdo/geminate60"},georgi:{target:"gboards/georgi"},gergo:{target:"gboards/gergo"},getta25:{target:"salicylic_acid3/getta25"},gh60:{target:"gh60/revc"},gingham:{target:"yiancardesigns/gingham"},"gmmk/pro":{target:"gmmk/pro/ansi"},"gmmk/pro/ansi":{target:"gmmk/pro/rev1/ansi"},"gmmk/pro/iso":{target:"gmmk/pro/rev1/iso"},gurindam:{target:"ibnuda/gurindam"},halberd:{target:"kagizaraya/halberd"},"handwired/ferris":{target:"ferris/0_1"},"handwired/p1800fl":{target:"team0110/p1800fl"},"handwired/pill60":{target:"handwired/pill60/bluepill"},"hecomi/alpha":{target:"takashiski/hecomi/alpha"},"helix/pico/sc/back":{target:"helix/pico/sc"},"helix/pico/sc/under":{target:"helix/pico/sc"},"helix/rev2/back/oled":{target:"helix/rev2/back"},"helix/rev2/oled":{target:"helix/rev2"},"helix/rev2/oled/back":{target:"helix/rev2/back"},"helix/rev2/oled/under":{target:"helix/rev2/under"},"helix/rev2/sc/back":{target:"helix/rev2/sc"},"helix/rev2/sc/oled":{target:"helix/rev2/sc"},"helix/rev2/sc/oledback":{target:"helix/rev2/sc"},"helix/rev2/sc/oledunder":{target:"helix/rev2/sc"},"helix/rev2/sc/under":{target:"helix/rev2/sc"},"helix/rev2/under":{target:"helix/rev2/sc"},"helix/rev2/under/oled":{target:"helix/rev2/under"},hid_liber:{target:"bpiphany/hid_liber"},honeycomb:{target:"keyhive/honeycomb"},"id67/default_rgb":{target:"idobao/id67/default_rgb"},"id67/rgb":{target:"idobao/id67/rgb"},id80:{target:"idobao/id80/v1"},id87:{target:"idobao/id87/v1"},idb_60:{target:"idb/idb_60",layouts:{LAYOUT:"LAYOUT_all"}},idobo:{target:"idobao/id75/v1"},infinity60:{target:"input_club/infinity60"},"ivy/rev1":{target:"maple_computing/ivy/rev1"},jisplit89:{target:"salicylic_acid3/jisplit89"},jj40:{target:"kprepublic/jj40"},jj4x4:{target:"kprepublic/jj4x4"},jj50:{target:"kprepublic/jj50"},jnao:{target:"maple_computing/jnao"},jones:{target:"jones/v03_1"},just60:{target:"ydkb/just60"},k_type:{target:"input_club/k_type"},kagamidget:{target:"yynmt/kagamidget"},katana60:{target:"rominronin/katana60/rev1"},"kbdfans/kbd67/mkiirgb":{target:"kbdfans/kbd67/mkiirgb/v1"},"kbdfans/kbd67mkiirgb":{target:"kbdfans/kbd67/mkiirgb",layouts:{LAYOUT:"LAYOUT_65_ansi_blocker"}},"keebio/dsp40":{target:"keebio/dsp40/rev1"},"kelowna/rgb64":{target:"weirdo/kelowna/rgb64"},"keycapsss/kimiko":{target:"keycapsss/kimiko/rev1"},"keycapsss/plaid_pad":{target:"keycapsss/plaid_pad/rev1"},"kprepublic/bm60poker":{target:"kprepublic/bm60hsrgb_poker/rev1"},"kprepublic/bm60rgb":{target:"kprepublic/bm60hsrgb/rev1"},"kprepublic/bm60rgb_iso":{target:"kprepublic/bm60hsrgb_iso/rev1"},"kprepublic/bm65hsrgb_iso":{target:"kprepublic/bm65hsrgb_iso/rev1"},"kprepublic/bm65iso":{target:"kprepublic/bm65hsrgb_iso"},"kprepublic/bm68hsrgb":{target:"kprepublic/bm68hsrgb/rev1"},"kprepublic/bm68rgb":{target:"kprepublic/bm68hsrgb"},"kprepublic/bm80":{target:"kprepublic/bm80hsrgb"},kudox:{target:"kudox/rev1"},"kyria/rev1":{target:"splitkb/kyria/rev1"},latin17rgb:{target:"latincompass/latin17rgb"},latin47ble:{target:"latincompass/latin47ble"},latin60rgb:{target:"latincompass/latin60rgb"},latin64ble:{target:"latincompass/latin64ble"},latin6rgb:{target:"latincompass/latin6rgb"},latinpad:{target:"latincompass/latinpad"},latinpadble:{target:"latincompass/latinpadble"},lattice60:{target:"keyhive/lattice60"},"launchpad/rev1":{target:"maple_computing/launchpad/rev1"},lck75:{target:"lyso1/lck75"},le_chiffre:{target:"tominabox1/le_chiffre"},lefishe:{target:"lyso1/lefishe"},"lets_split_eh/eh":{target:"maple_computing/lets_split_eh/eh"},"lfkeyboards/lfk78":{target:"lfkeyboards/lfk78/revj"},"lfkeyboards/smk65":{target:"lfkeyboards/smk65/revb"},ls_60:{target:"weirdo/ls_60"},m0lly:{target:"tkc/m0lly"},m3n3van:{target:"matthewdias/m3n3van"},"maartenwut/atom47/rev2":{target:"evyd13/atom47/rev2"},"maartenwut/atom47/rev3":{target:"evyd13/atom47/rev3"},"maartenwut/eon40":{target:"evyd13/eon40"},"maartenwut/eon65":{target:"evyd13/eon65"},"maartenwut/eon75":{target:"evyd13/eon75"},"maartenwut/eon87":{target:"evyd13/eon87"},"maartenwut/eon95":{target:"evyd13/eon95"},"maartenwut/gh80_1800":{target:"evyd13/gh80_1800"},"maartenwut/gh80_3700":{target:"evyd13/gh80_3700"},"maartenwut/minitomic":{target:"evyd13/minitomic"},"maartenwut/mx5160":{target:"evyd13/mx5160"},"maartenwut/nt660":{target:"evyd13/nt660"},"maartenwut/omrontkl":{target:"evyd13/omrontkl"},"maartenwut/plain60":{target:"evyd13/plain60"},"maartenwut/pockettype":{target:"evyd13/pockettype"},"maartenwut/quackfire":{target:"evyd13/quackfire"},"maartenwut/solheim68":{target:"evyd13/solheim68"},"maartenwut/ta65":{target:"evyd13/ta65"},"maartenwut/wasdat":{target:"evyd13/wasdat"},"maartenwut/wasdat_code":{target:"evyd13/wasdat_code"},"maartenwut/wonderland":{target:"evyd13/wonderland"},"mechlovin/adelais/rgb_led":{target:"mechlovin/adelais/rgb_led/rev1"},"mechlovin/adelais/standard_led":{target:"mechlovin/adelais/standard_led/rev2"},"mechlovin/delphine":{target:"mechlovin/delphine/mono_led"},"mechlovin/hannah60rgb":{target:"mechlovin/hannah60rgb/rev1"},"mechlovin/hannah65":{target:"mechlovin/hannah65/rev1"},"mechlovin/hannah65/mechlovin9":{target:"mechlovin/mechlovin9"},"mechlovin/hannah910":{target:"mechlovin/hannah910/rev1"},"mechmini/v1":{target:"mechkeys/mechmini/v1"},"mechmini/v2":{target:"mechkeys/mechmini/v2"},meira:{target:"woodkeys/meira"},meishi:{target:"biacco42/meishi"},meishi2:{target:"biacco42/meishi2"},"melgeek/z70ultra":{target:"melgeek/z70ultra/rev1"},melody96:{target:"ymdk/melody96"},"minidox/rev1":{target:"maple_computing/minidox/rev1"},minim:{target:"matthewdias/minim"},mio:{target:"recompile_keys/mio"},model01:{target:"keyboardio/model01"},model_v:{target:"matthewdias/model_v"},montex:{target:"idobao/montex/v1"},"montsinger/rebound":{target:"montsinger/rebound/rev1"},mt40:{target:"mt/mt40"},mt64rgb:{target:"mt/mt64rgb"},mt84:{target:"mt/mt84"},mt980:{target:"mt/mt980"},nafuda:{target:"salicylic_acid3/nafuda"},"naiping/np64":{target:"weirdo/naiping/np64"},"naiping/nphhkb":{target:"weirdo/naiping/nphhkb"},"naiping/npminila":{target:"weirdo/naiping/npminila"},naked48:{target:"salicylic_acid3/naked48"},naked60:{target:"salicylic_acid3/naked60"},naked64:{target:"salicylic_acid3/naked64"},namecard2x4:{target:"takashiski/namecard2x4"},"navi10/rev0":{target:"keyhive/navi10/rev0"},"navi10/rev2":{target:"keyhive/navi10/rev2"},"navi10/rev3":{target:"keyhive/navi10/rev3"},"nckiibs/flatbread60":{target:"delikeeb/flatbread60"},"nckiibs/vaguettelite":{target:"delikeeb/vaguettelite"},"nckiibs/vanana/rev1":{target:"delikeeb/vanana/rev1"},"nckiibs/vanana/rev2":{target:"delikeeb/vanana/rev2"},"nckiibs/vaneela":{target:"delikeeb/vaneela"},"nckiibs/vaneelaex":{target:"delikeeb/vaneelaex"},"nckiibs/waaffle/rev3/elite_c":{target:"delikeeb/waaffle/rev3/elite_c"},"nckiibs/waaffle/rev3/pro_micro":{target:"delikeeb/waaffle/rev3/pro_micro"},nebula12:{target:"spaceholdings/nebula12"},nebula68:{target:"spaceholdings/nebula68"},nebula68b:{target:"spaceholdings/nebula68b"},niu_mini:{target:"kbdfans/niu_mini"},nk1:{target:"novelkeys/nk1"},nk65:{target:"novelkeys/nk65"},nk87:{target:"novelkeys/nk87"},nknl7en:{target:"salicylic_acid3/nknl7en"},nknl7jp:{target:"salicylic_acid3/nknl7jp"},nomu30:{target:"recompile_keys/nomu30"},novelpad:{target:"novelkeys/novelpad"},"noxary/268_2":{layouts:{LAYOUT:"LAYOUT_65_ansi_blocker"}},oddball:{target:"oddball/v1"},ogurec:{target:"drhigsby/ogurec"},omnikey_bh:{target:"viktus/omnikey_bh"},omnikey_blackheart:{target:"omnikey_bh"},opus:{target:"keyhive/opus"},"otaku_split/rev0":{target:"takashiski/otaku_split/rev0"},"otaku_split/rev1":{target:"takashiski/otaku_split/rev1"},owl8:{target:"dailycraft/owl8"},"pabile/p20":{target:"pabile/p20/ver1"},packrat:{target:"drhigsby/packrat"},"pancake/feather":{target:"spaceman/pancake/feather"},"pancake/promicro":{target:"spaceman/pancake/promicro"},"peiorisboards/ixora":{target:"coarse/ixora"},"percent/canoe":{layouts:{LAYOUT_iso:"LAYOUT_65_iso_blocker"}},pistachio:{target:"rate/pistachio"},pistachio_mp:{target:"rate/pistachio_mp"},pistachio_pro:{target:"rate/pistachio_pro"},plaid:{target:"dm9records/plaid"},plain60:{target:"maartenwut/plain60"},plexus75:{target:"checkerboards/plexus75"},"ploopyco/trackball":{target:"ploopyco/trackball/rev1_005"},polilla:{target:"polilla/rev1"},"preonic/rev1":{layouts:{LAYOUT_preonic_grid:"LAYOUT_ortho_5x12"}},"preonic/rev2":{layouts:{LAYOUT_preonic_grid:"LAYOUT_ortho_5x12"}},"preonic/rev3":{layouts:{LAYOUT_preonic_grid:"LAYOUT_ortho_5x12"}},"primekb/prime_l":{target:"primekb/prime_l/v1"},"primekb/prime_l_v2":{target:"primekb/prime_l/v2"},"projectkb/alice":{target:"projectkb/alice/rev1"},pursuit40:{target:"checkerboards/pursuit40"},qaz:{target:"tominabox1/qaz"},quark:{target:"checkerboards/quark"},rabbit_capture_plan:{target:"kakunpc/rabbit_capture_plan"},rainkeeb:{target:"rainkeebs/rainkeeb"},"rama/koyu":{target:"wilba_tech/rama_works_koyu"},"rama/m10_b":{target:"wilba_tech/rama_works_m10_b"},"rama/m60_a":{target:"wilba_tech/rama_works_m60_a"},"rama/m6_a":{target:"wilba_tech/rama_works_m6_a"},"rama/m6_b":{target:"wilba_tech/rama_works_m6_b"},"rama/u80_a":{target:"wilba_tech/rama_works_u80_a"},"ramonimbao/herringbone":{target:"ramonimbao/herringbone/v1"},"redox/rev1":{target:"redox/rev1/base"},reviung33:{target:"reviung/reviung33"},reviung34:{target:"reviung/reviung34"},reviung39:{target:"reviung/reviung39"},reviung41:{target:"reviung/reviung41"},reviung5:{target:"reviung/reviung5"},reviung53:{target:"reviung/reviung53"},reviung61:{target:"reviung/reviung61"},"rgbkb/pan":{target:"rgbkb/pan/rev1/32a"},"rgbkb/pan/rev1":{target:"rgbkb/pan/rev1/32a"},romac:{target:"kingly_keys/romac"},ropro:{target:"kingly_keys/ropro"},"runner3680/3x6":{target:"omkbd/runner3680/3x6"},"runner3680/3x7":{target:"omkbd/runner3680/3x7"},"runner3680/3x8":{target:"omkbd/runner3680/3x8"},"runner3680/4x6":{target:"omkbd/runner3680/4x6"},"runner3680/4x7":{target:"omkbd/runner3680/4x7"},"runner3680/4x8":{target:"omkbd/runner3680/4x8"},"runner3680/5x6":{target:"omkbd/runner3680/5x6"},"runner3680/5x6_5x8":{target:"omkbd/runner3680/5x6_5x8"},"runner3680/5x7":{target:"omkbd/runner3680/5x7"},"runner3680/5x8":{target:"omkbd/runner3680/5x8"},"s7_elephant/rev1":{target:"jacky_studio/s7_elephant/rev1"},"s7_elephant/rev2":{target:"jacky_studio/s7_elephant/rev2"},satan:{target:"gh60/satan"},scarletbandana:{target:"woodkeys/scarletbandana"},scythe:{target:"kagizaraya/scythe"},seigaiha:{target:"yiancardesigns/seigaiha"},setta21:{target:"salicylic_acid3/setta21"},skog:{target:"percent/skog"},smallice:{target:"keyhive/smallice"},southpaw75:{target:"fr4/southpaw75"},southpole:{target:"keyhive/southpole"},"space_space/rev1":{target:"qpockets/space_space/rev1"},"space_space/rev2":{target:"qpockets/space_space/rev2"},speedo:{target:"cozykeys/speedo/v2"},"spiderisland/winry25tc":{target:"winry/winry25tc"},splitreus62:{target:"nacly/splitreus62"},"squiggle/rev1":{target:"ibnuda/squiggle/rev1"},standaside:{target:"edi/standaside"},staryu:{target:"ktec/staryu"},steal_this_keyboard:{target:"obosob/steal_this_keyboard"},stella:{target:"hnahkb/stella"},stoutgat:{target:"tkw/stoutgat/v1"},suihankey:{target:"suihankey/split/alpha"},"suihankey/alpha":{target:"kakunpc/suihankey/alpha"},"suihankey/rev1":{target:"kakunpc/suihankey/rev1"},"suihankey/split":{target:"kakunpc/suihankey/split"},ta65:{target:"maartenwut/ta65"},tartan:{target:"dm9records/tartan"},the_ruler:{target:"maple_computing/the_ruler"},thedogkeyboard:{target:"kakunpc/thedogkeyboard"},tiger910:{target:"weirdo/tiger910"},tkc1800:{target:"tkc/tkc1800"},"tkw/stoutgat/v2":{target:"tkw/stoutgat/v2/f411"},tokyo60:{target:"tokyokeyboard/tokyo60"},treadstone32:{target:"marksard/treadstone32"},"treadstone48/rev1":{target:"marksard/treadstone48/rev1"},"treadstone48/rev2":{target:"marksard/treadstone48/rev2"},txuu:{target:"matthewdias/txuu"},ua62:{target:"nacly/ua62"},underscore33:{target:"underscore33/rev1"},"underscore33/rev1":{target:"tominabox1/underscore33/rev1"},"underscore33/rev2":{target:"tominabox1/underscore33/rev2"},uno:{target:"keyhive/uno"},ut472:{target:"keyhive/ut472"},vinta:{target:"coarse/vinta",layouts:{LAYOUT_67_ansi:"LAYOUT_65_ansi_blocker"}},vn66:{target:"hnahkb/vn66"},wallaby:{target:"kkatano/wallaby"},wanten:{target:"qpockets/wanten"},wasdat:{target:"maartenwut/wasdat"},"westfoxtrot/cypher":{target:"westfoxtrot/cypher/rev1"},"whale/sk":{target:"whale/sk/v3"},"wheatfield/blocked65":{target:"mt/blocked65"},"wheatfield/split75":{target:"mt/split75"},whitefox:{target:"input_club/whitefox"},"wings42/rev1":{target:"dailycraft/wings42/rev1"},"wings42/rev1_extkeys":{target:"dailycraft/wings42/rev1_extkeys"},"wings42/rev2":{target:"dailycraft/wings42/rev2"},xd002:{target:"xiudi/xd002"},"xd004/v1":{target:"xiudi/xd004/v1"},"xd60/rev2":{target:"xiudi/xd60/rev2"},"xd60/rev3":{target:"xiudi/xd60/rev3"},xd68:{target:"xiudi/xd68"},xd75:{target:"xiudi/xd75"},xd84:{target:"xiudi/xd84"},xd84pro:{target:"xiudi/xd84pro"},xd87:{target:"xiudi/xd87"},xd96:{target:"xiudi/xd96"},"xelus/dawn60":{target:"xelus/dawn60/rev1"},"xelus/valor":{target:"xelus/valor/rev1"},yasui:{target:"rainkeebs/yasui"},yd60mq:{target:"ymdk/yd60mq"},yd68:{target:"ydkb/yd68"},ymd75:{target:"ymdk/ymd75"},ymd96:{target:"ymdk/ymd96"},ymdk_np21:{target:"ymdk/np21"},yurei:{target:"kkatano/yurei"},z150_bh:{target:"viktus/z150_bh"},z150_blackheart:{target:"z150_bh"},zeal60:{target:"wilba_tech/zeal60"},zeal65:{target:"wilba_tech/zeal65"},zinc:{target:"25keys/zinc"},"zinc/rev1":{target:"25keys/zinc/rev1"},"zinc/reva":{target:"25keys/zinc/reva"}},G={lookup:aa};var ra=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"botctrl",attrs:{id:"controller-bottom"}},[t("VeilComponent",{attrs:{"is-visible":e.isVeilOpened},scopedSlots:e._u([{key:"contents",fn:function(){return[t("div",{staticClass:"input-url-modal"},[t("div",[t("label",{attrs:{for:"url-import-field"}},[e._v("Url:")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.urlImport,expression:"urlImport"}],ref:"urlimport",attrs:{id:"url-import-field",type:"text"},domProps:{value:e.urlImport},on:{input:function(r){r.target.composing||(e.urlImport=r.target.value)}}})]),t("div",[t("button",{staticClass:"ui-button",on:{click:e.importUrlkeymap}},[e._v("Load")]),t("button",{staticClass:"ui-button",on:{click:e.closeVeil}},[e._v("cancel")])])])]},proxy:!0}])}),t("div",{staticClass:"botctrl-1-1"},[t("button",{directives:[{name:"tooltip",rawName:"v-tooltip.bottom",value:e.$t("downloadJSON.title"),expression:"$t('downloadJSON.title')",modifiers:{bottom:!0}}],staticClass:"ui-button",attrs:{id:"export"},on:{click:e.exportJSON}},[t("font-awesome-icon",{attrs:{icon:"download",size:"lg","fixed-width":""}})],1),t("span",{staticClass:"label-button"},[e._v(e._s(e.$t("downloadJSON.label")))]),t("button",{directives:[{name:"tooltip",rawName:"v-tooltip.bottom",value:e.$t("importJSON.title"),expression:"$t('importJSON.title')",modifiers:{bottom:!0}}],staticClass:"ui-button",attrs:{id:"import"},on:{click:e.importKeymap}},[t("font-awesome-icon",{attrs:{icon:"upload",size:"lg","fixed-width":""}})],1),t("button",{directives:[{name:"tooltip",rawName:"v-tooltip.bottom",value:e.$t("importUrlJSON.title"),expression:"$t('importUrlJSON.title')",modifiers:{bottom:!0}}],staticClass:"ui-button",attrs:{id:"import-url"},on:{click:e.openVeil}},[t("font-awesome-icon",{attrs:{icon:"cloud-upload-alt",size:"lg","fixed-width":""}})],1),t("a",{staticClass:"button-padding",attrs:{rel:"noopener",target:"_blank",href:e.configuratorDocsURL}},[t("button",{directives:[{name:"tooltip",rawName:"v-tooltip.bottom",value:e.$t("keymapHelp.title"),expression:"$t('keymapHelp.title')",modifiers:{bottom:!0}}],staticClass:"ui-button",attrs:{id:"keymapHelp"}},[t("font-awesome-icon",{attrs:{icon:"question-circle",size:"lg","fixed-width":""}}),t("span",{staticClass:"hide-small"},[e._v(e._s(e.$t("keymapHelp.label")))])],1)]),t("button",{directives:[{name:"tooltip",rawName:"v-tooltip.bottom",value:e.$t("printKeymap.title"),expression:"$t('printKeymap.title')",modifiers:{bottom:!0}}],staticClass:"ui-button",attrs:{id:"printkeymaps"},on:{click:e.printKeymaps}},[t("font-awesome-icon",{attrs:{icon:"print",size:"lg","fixed-width":""}}),t("span",{staticClass:"hide-small"},[e._v(e._s(e.$t("printKeymap.label")))])],1),t("button",{directives:[{name:"tooltip",rawName:"v-tooltip.bottom",value:e.$t("testKeys.title"),expression:"$t('testKeys.title')",modifiers:{bottom:!0}}],staticClass:"ui-button",attrs:{id:"testkeys"},on:{click:e.testKeys}},[t("font-awesome-icon",{attrs:{icon:"keyboard",size:"lg","fixed-width":""}}),t("span",{staticClass:"hide-small"},[e._v(e._s(e.$t("testKeys.label")))])],1),t("input",{ref:"fileImportElement",attrs:{id:"fileImport",type:"file",accept:"application/json"},on:{change:e.fileImportChanged}}),t("input",{ref:"infoPreviewElement",attrs:{id:"infoPreview",type:"file",accept:"application/json"},on:{change:e.infoPreviewChanged}})]),e.electron?t("div",{staticClass:"botctrl-1-2"},[t("ElectronBottomControls",{attrs:{"disable-download-binary":e.disableDownloadBinary}})],1):t("div",{staticClass:"botctrl-1-2"},[t("button",{directives:[{name:"tooltip",rawName:"v-tooltip",value:e.$t("downloadSource.title"),expression:"$t('downloadSource.title')"}],staticClass:"fixed-size ui-button",attrs:{id:"source",disabled:e.disableDownloadSource},on:{click:e.downloadSource}},[t("font-awesome-icon",{attrs:{icon:"download",size:"lg","fixed-width":""}}),e._v(" "+e._s(e.$t("downloadSource.label"))+" ")],1),t("button",{directives:[{name:"tooltip",rawName:"v-tooltip",value:e.$t("downloadFirmware.title"),expression:"$t('downloadFirmware.title')"}],staticClass:"ui-button",attrs:{id:"fwFile",disabled:e.disableDownloadBinary},on:{click:e.downloadFirmware}},[t("font-awesome-icon",{attrs:{icon:"download",size:"lg","fixed-width":""}}),e._v(" "+e._s(e.$t("downloadFirmware.label"))+" ")],1)]),e.downloadElementEnabled?t("div",[t("a",{ref:"downloadElement",attrs:{href:e.urlEncodedData,download:e.filename}})]):e._e()],1)},ia=[];const{isNavigationFailure:Q,NavigationFailureType:X}=ke,sa="data:application/json;charset=utf-8,",oa={name:"BottomController",components:{ElectronBottomControls:ta},data:()=>({isVeilOpened:!1,downloadElementEnabled:!1,urlEncodedData:"",filename:"",urlImport:"",reader:void 0}),computed:{...g("keymap",["templates"]),...g("app",["keyboard","layout","previewRequested","enableDownloads","firmwareBinaryURL","firmwareSourceURL","keymapSourceURL","author","notes","electron"]),...f("app",["exportKeymapName","firmwareFile"]),...f("keymap",["isDirty","exportLayers"]),disableDownloadKeymap(){return!this.enableDownloads&&this.keymapSourceURL!==""},disableDownloadSource(){return!this.enableDownloads&&this.firmwareSourceURL!==""},disableDownloadBinary(){return!this.enableDownloads||n(this.firmwareBinaryURL)||this.firmwareBinaryURL===""},configuratorDocsURL(){return"https://docs.qmk.fm/configurator_troubleshooting"}},watch:{previewRequested(e){e&&(this.$refs.infoPreviewElement.click(),window.setTimeout(()=>this.dismissPreview()))}},methods:{...u("app",["dismissPreview","enablePreview","setAuthor","setKeyboard","setKeymapName","setLayout","setNotes","startListening","stopListening"]),...u("keymap",["setLoadingKeymapPromise","setDirty","clear"]),...u("keymap",{clearKeymap:"clear"}),...w("app",["changeKeyboard","loadKeymapFromUrl","loadLayouts"]),...w("keymap",["load_converted_keymap"]),...S(v,["viewReadme","setDeferredMessage","append","clearStatus"]),async importUrlkeymap(){try{const e=await this.loadKeymapFromUrl(this.urlImport);await this.loadJsonData(e)}catch(e){alert("Seems like there is an issue trying to get the file"),console.error(e)}this.closeVeil()},openVeil(){this.isVeilOpened=!0,this.stopListening(),h.nextTick(()=>{this.$refs.urlimport.focus()})},closeVeil(){this.startListening(),this.urlImport="",this.isVeilOpened=!1},exportJSON(){let e=this.exportLayers({compiler:!1});const{keymap:a}=this.templates;let t=Object.assign(a,{keyboard:this.keyboard,keymap:this.exportKeymapName,layout:this.layout,layers:e,author:this.author,notes:this.notes});this.download(`${this.exportKeymapName}.json`,JSON.stringify(t,null,2))},download(e,a){this.urlEncodedData=sa+encodeURIComponent(a),this.filename=e,this.downloadElementEnabled=!0,h.nextTick(()=>{this.$refs.downloadElement.click(),this.downloadElementEnabled=!1})},downloadFirmware(){this.urlEncodedData=k(this.firmwareBinaryURL),this.filename=this.firmwareFile,this.downloadElementEnabled=!0,h.nextTick(()=>{this.$refs.downloadElement.click(),this.downloadElementEnabled=!1})},downloadSource(){this.urlEncodedData=k(this.firmwareSourceURL),this.filename="source.zip",this.downloadElementEnabled=!0,h.nextTick(()=>{this.$refs.downloadElement.click(),this.downloadElementEnabled=!1})},downloadKeymap(){this.urlEncodedData=k(this.keymapSourceURL),this.filename="source.zip",this.downloadElementEnabled=!0,h.nextTick(()=>{this.$refs.downloadElement.click(),this.downloadElementEnabled=!1})},importKeymap(){if(this.isDirty&&!confirm(j({action:"change keyboard and layout"})))return!1;this.$refs.fileImportElement.click()},fileImportChanged(){var e=this.$refs.fileImportElement.files;this.reader=new FileReader,this.reader.onload=this.importJSONOnLoad,this.reader.readAsText(k(e)),this.$refs.fileImportElement.value=""},remapKeyboard(e,a,t=0){let r=!1;if(t>10)console.warn(`possible remap loop detected with ${e}:${a}`);else if(!n(G.lookup[e])){const{target:i,layouts:s}=G.lookup[e];n(i)||(e=i,r=!0),!n(s)&&!n(s[a])&&(a=s[a],r=!0)}return r?this.remapKeyboard(e,a,++t):{keyboard:e,layout:a}},async loadJsonData(e){if(e.version&&e.keyboard&&e.keyboard.settings){alert(this.$t("errors.kbfirmwareJSONUnsupported"));return}if(Ie(e)){alert(this.$t("errors.unknownJSON"));return}if(!n(e.author)){const{author:a,notes:t}=e;this.setAuthor(a),this.setNotes(t)}e=Object.assign(e,this.remapKeyboard(e.keyboard,e.layout)),this.setKeyboard(e.keyboard);try{await this.changeKeyboard(this.keyboard),this.setLayout(e.layout),await this.$router.replace({path:`/${e.keyboard}/${e.layout}`}).catch(r=>{if(!Q(r,X.duplicated)&&!Q(r,X.cancelled))throw r}),await new Promise(r=>this.setLoadingKeymapPromise(r));const a=await this.load_converted_keymap(e.layers);let t=this.$t("statsTemplate",a);(a.warnings.length>0||a.errors.length>0)&&(t=`${t}
${a.warnings.join(`
`)}`,t=`${t}
${a.errors.join(`
`)}`),this.setDeferredMessage(t),this.viewReadme(this.keyboard).then(()=>{let r=e.keymap;r.endsWith(".json")&&(r=r.replace(/.json$/,"")),this.setKeymapName(r),this.setDirty()}),Fe()}catch(a){console.log("Unexpected error",a)}},async importJSONOnLoad(){try{const e=JSON.parse(this.reader.result);await this.loadJsonData(e)}catch(e){console.log(e),alert(this.$t("errors.invalidQMKKeymap"));return}},infoPreviewChanged(){var e=this.$refs.infoPreviewElement.files;e.length!==0&&(this.enablePreview(),Ke(),this.reader=new FileReader,this.reader.onload=this.previewInfoOnLoad,this.reader.readAsText(k(e)),this.$refs.infoPreviewElement.value="")},async previewInfoOnLoad(){const e=this.reader.result;let a;try{a=JSON.parse(e)}catch(r){console.log(r),alert("Sorry, that doesn't appear to be a valid QMK info file.");return}this.setKeyboard(_e);const t=this.$store;try{await this.loadLayouts(a),this.setLayout("  "),h.nextTick(()=>{const r=Ae(t.state.app.layouts);this.clearKeymap(),this.setLayout(r),this.clearKeymap(),this.setKeymapName("info.json preview"),this.clearStatus(),this.append([`Preview info.json mode
`,`For Developers only, working on new keyboards.
`,"	ctrl, alt, u - see key sizes","	ctrl, alt, n - cycle colorways","	layout drop down to preview layouts"].join(`
`))})}catch(r){console.log("unexpected error",r)}},printKeymaps(){this.$router.push("/print")},testKeys(){this.$router.push("/test")}}},Z={};var na=p(oa,ra,ia,!1,la);function la(e){for(let a in Z)this[a]=Z[a]}const ca=function(){return na.exports}();var da=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"key key-layer",class:e.myclasses,style:e.mystyles,attrs:{draggable:"",id:e.myid},on:{click:e.clicked,dragstart:e.dragstart,dragend:e.dragend,drop:function(r){return r.stopPropagation(),e.dropped.apply(null,arguments)},dragleave:function(r){return r.preventDefault(),e.dragleave.apply(null,arguments)},dragover:function(r){return r.preventDefault(),e.dragover.apply(null,arguments)},dragenter:function(r){return r.preventDefault(),e.dragenter.apply(null,arguments)}}},[t("div",{class:e.hasFocus?"key-layer-title-focus":"key-layer-title"},[e._v(e._s(e.displayName)),t("div",[e.isShowingKeymapLegends?t("input",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"value"}],ref:"input",staticClass:"key-layer-input",style:"width:calc("+this.charLength+"ch + 6px);",attrs:{spellcheck:"false"},domProps:{value:e.value},on:{focus:function(r){return r.preventDefault(),r.stopPropagation(),e.focus.apply(null,arguments)},blur:function(r){return r.preventDefault(),r.stopPropagation(),e.blur.apply(null,arguments)},click:function(r){return r.preventDefault(),r.stopPropagation(),e.clickignore.apply(null,arguments)},input:function(r){r.target.composing||(e.value=r.target.value)}}}):e._e()])]),e.visible?t("div",{staticClass:"remove",on:{click:function(r){return r.stopPropagation(),e.remove.apply(null,arguments)}}},[t("font-awesome-icon",{attrs:{icon:"times",size:"xs"}})],1):e._e()])},ua=[];const pa={name:"any-key",extends:_,data(){return{charLength:3,hasFocus:!1}},computed:{value:{get(){return this.meta.text},set(e){this.updateWidth(e),this.setText({layer:this.$store.state.keymap.layer,index:this.id,text:e})}}},methods:{...u("keymap",["setText"]),blur(){this.startListening(),this.hasFocus=!1,this.charLength=3,this.setSelected(void 0)},focus(){this.stopListening(),this.hasFocus=!0,this.charLength=this.value?this.value.length:3,this.$refs.input.selectionStart=this.$refs.input.selectionEnd=1e3},updateWidth(e){this.charLength=e.length},clickignore(){this.stopListening()}}},ee={};var ma=p(pa,da,ua,!1,ga);function ga(e){for(let a in ee)this[a]=ee[a]}const te=function(){return ma.exports}();var ha=Me,ya=Pe,va="[object Number]";function fa(e){return typeof e=="number"||ya(e)&&ha(e)==va}var je=fa;const ba=L(je);var ka=je;function _a(e){return ka(e)&&e!=+e}var wa=_a;const xa=L(wa);var $a=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"key key-layer",class:e.myclasses,style:e.mystyles,attrs:{draggable:"",id:e.myid},on:{click:e.clicked,dragstart:e.dragstart,dragend:e.dragend,drop:function(r){return r.stopPropagation(),e.dropped.apply(null,arguments)},dragleave:function(r){return r.preventDefault(),e.dragleave.apply(null,arguments)},dragover:function(r){return r.preventDefault(),e.dragover.apply(null,arguments)},dragenter:function(r){return r.preventDefault(),e.dragenter.apply(null,arguments)}}},[t("div",{class:e.hasFocus?"key-layer-title-focus":"key-layer-title"},[e._v(e._s(e.displayName)),t("div",[e.isShowingKeymapLegends?t("input",{staticClass:"key-layer-input",class:e.errorClasses,attrs:{type:"number",min:"0",max:"15"},domProps:{value:e.value},on:{focus:e.focus,blur:e.blur,input:e.input}}):e._e()])]),e.visible?t("div",{staticClass:"remove",on:{click:function(r){return r.stopPropagation(),e.remove.apply(null,arguments)}}},[t("font-awesome-icon",{attrs:{icon:"times",size:"xs"}})],1):e._e()])},Ca=[];const La={name:"layer-key",extends:_,data(){return{error:!1,hasFocus:!1}},computed:{...g("keymap",{curLayer:"layer"}),value(){return this.meta.layer},errorClasses(){return this.error?"input-error":""}},methods:{...u("app",["setHasErrors","setHasNoErrors"]),...u("keymap",["setText"]),...w("keymap",["setKeycodeLayer"]),input(e){const a=parseInt(e.target.value,10);!xa(a)&&ba(a)&&(this.error=a<0||a>15,this.error||this.setKeycodeLayer({layer:this.curLayer,index:this.id,toLayer:a})),this.error?this.setHasErrors():this.setHasNoErrors()},blur(){this.startListening(),this.setSelected(void 0),this.hasFocus=!1},focus(){this.stopListening(),this.hasFocus=!0}}},ae={};var Sa=p(La,$a,Ca,!1,Ta);function Ta(e){for(let a in ae)this[a]=ae[a]}const re=function(){return Sa.exports}();var Ka=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"key key-container",class:e.myclasses,style:e.mystyles,attrs:{id:e.myid,draggable:""},on:{click:e.clicked,dragstart:e.dragstart,dragend:e.dragend,drop:function(r){return r.stopPropagation(),e.droppedContents.apply(null,arguments)},dragover:function(r){return r.preventDefault(),e.dragover.apply(null,arguments)},dragenter:e.dragenter,dragleave:e.dragleave}},[t("div",[e._v(e._s(e.displayName)),e.isShowingKeymapLegends?t("div",{staticClass:"key-contents",class:e.contentClasses,on:{dragenter:function(r){return r.preventDefault(),e.dragenterContents.apply(null,arguments)},dragleave:function(r){return r.preventDefault(),e.dragleaveContents.apply(null,arguments)},click:function(r){return r.preventDefault(),r.stopPropagation(),e.clickContents.apply(null,arguments)}}},[e._v(e._s(e.contents))]):e._e()]),e.visible?t("div",{staticClass:"remove",on:{click:function(r){return r.stopPropagation(),e.remove.apply(null,arguments)}}},[t("font-awesome-icon",{attrs:{icon:"times",size:"xs"}})],1):e._e()])},Fa=[];const ja={name:"ContainerKey",extends:_,data(){return{value:this.meta.text,contentsInHover:!1}},computed:{contents(){return this.meta.contents?this.formatName(this.meta.contents.name):""},contentClasses(){let e=[];return this.contentsInHover&&e.push("overme"),this.isContentSelected&&e.push("keycode-select"),console.log("contentClasses ",e),e.join(" ")}},methods:{...u("keymap",["setContents"]),dragenterContents(e){e.target.classList.contains("key-contents")&&(this.contentsInHover=!0)},dragleaveContents(){this.contentsInHover=!1},droppedContents(e){if(e.target.classList.contains("key-contents")){console.log("drop on contents ",e);let a=JSON.parse(e.dataTransfer.getData("application/json"));return n(a.type)&&this.setContents({index:this.id,key:{name:a.name,code:a.code,type:a.type}}),this.dragleave(e),this.dragleaveContents(e),!0}return this.dropped(e)}}},ie={};var Na=p(ja,Ka,Fa,!1,Ea);function Ea(e){for(let a in ie)this[a]=ie[a]}const se=function(){return Na.exports}();var Da=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"key key-container",class:e.myclasses,style:e.mystyles,attrs:{draggable:"",id:e.myid,title:e.mytitle},on:{click:e.clicked,dragstart:e.dragstart,dragend:e.dragend,drop:function(r){return r.stopPropagation(),e.droppedContents.apply(null,arguments)},dragover:function(r){return r.preventDefault(),e.dragover.apply(null,arguments)},dragenter:e.dragenter,dragleave:e.dragleave}},[t("div",[e._v(e._s(e.layerDisplayName)),e.isShowingKeymapLegends?t("div",{staticClass:"key-contents",class:e.contentClasses,on:{dragenter:function(r){return r.preventDefault(),e.dragenterContents.apply(null,arguments)},dragleave:function(r){return r.preventDefault(),e.dragleaveContents.apply(null,arguments)},click:function(r){return r.preventDefault(),r.stopPropagation(),e.clickContents.apply(null,arguments)}}},[e._v(e._s(e.contents))]):e._e()]),e.visible?t("div",{staticClass:"remove",on:{click:function(r){return r.stopPropagation(),e.remove.apply(null,arguments)}}},[t("font-awesome-icon",{attrs:{icon:"times",size:"xs"}})],1):e._e()])},za=[];const Ra={name:"layer-container-key",extends:_,data(){return{value:this.meta.text,contentsInHover:!1}},computed:{mytitle(){const e=this.meta.contents&&this.meta.contents.code||"KC_NO";return`LT(${this.meta.layer}, ${e})`},layerDisplayName(){return this.isShowingKeymapLegends?`LT ${this.meta.layer}`:this.displayName},contents(){return this.meta.contents?this.formatName(this.meta.contents.name):""},contentClasses(){let e=[];return this.contentsInHover&&e.push("overme"),this.isContentSelected&&e.push("keycode-select"),console.log("contentClasses ",e),e.join(" ")}},methods:{...u("keymap",["setContents"]),dragenterContents(e){e.target.classList.contains("key-contents")&&(this.contentsInHover=!0)},dragleaveContents(){this.contentsInHover=!1},droppedContents(e){if(e.target.classList.contains("key-contents")){console.log("drop on contents ",e);let a=JSON.parse(e.dataTransfer.getData("application/json"));return n(a.type)&&this.setContents({index:this.id,key:{name:a.name,code:a.code,type:a.type,layer:a.layer}}),this.dragleave(e),this.dragleaveContents(e),!0}return this.dropped(e)}}},oe={};var Oa=p(Ra,Da,za,!1,Ua);function Ua(e){for(let a in oe)this[a]=oe[a]}const Aa=function(){return Oa.exports}();var Ia=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{style:e.styles,attrs:{id:"visual-keymap"}},[e._l(e.currentLayer,function(r){return[t("transition",{key:r.id,attrs:{name:"fade",appear:""}},[t(e.getComponent(r),e._b({key:r.id,tag:"component"},"component",r,!1))],1)]})],2)},Pa=[];const Ma={name:"VisualKeymap",components:{BaseKey:_,AnyKey:te,LayerKey:re,ContainerKey:se},extends:He,props:{profile:Boolean,debug:{type:Boolean,default:!1}},data(){return{width:0,height:0}},computed:{...g("keymap",["config","layer"]),...f("keymap",["getLayer","loadingKeymapPromise","colorway","defaults"]),...g("app",["layout","layouts","legends","previewRequested"]),currentLayer(){const e=this.layouts[this.layout],a=this.getLayer(this.layer);if(n(e)||n(a))return[];this.profile&&console.time("currentLayer");const t=this.colorway;let r=e.map((i,s)=>{let o=Object.assign({w:1,h:1},i);const l=this.calcKeyKeymapPos(o.x,o.y),m=this.calcKeyKeymapDims(o.w,o.h),b=i.matrix;return Object.assign({id:s,layer:this.layer,meta:a[s],colorway:t,legends:this.legends,matrix:b},l,m)});if(this.profile&&console.timeEnd("currentLayer"),this.loadingKeymapPromise){const i=this.loadingKeymapPromise;this.setLoadingKeymapPromise(void 0),i()}return r}},watch:{layout(e,a){this.profile&&console.time("layout"),!n(e)&&!this.isLayoutUIUpdate(e,a)&&e!==a?this.recalcEverything(e):n(e)&&!n(a)&&a!==""&&this.recalcEverything(a),this.profile&&console.timeEnd("layout")}},methods:{...u("keymap",["changeLayer","clear","initKeymap","resetConfig","resizeConfig","setLoadingKeymapPromise"]),...S(v,["append","scrollToEnd"]),isLayoutUIUpdate(e,a){return e===""||a===""},getComponent(e){const{meta:a}=e;if(a===void 0)return this.debug&&console.log(`key ${e.id} has undefined metadata`),_;switch(a.type){case"container":return se;case"layer":return re;case"layer-container":return Aa;case"text":return te;default:return _}},setSize(e){this.width=e.x,this.height=e.y},recalcEverything(e){this.profile&&console.time("layout::reset"),this.resetConfig(),this.changeLayer(0),this.profile&&console.time("layout::initkeymap"),this.getLayer(0).length===0&&this.initKeymap({layer:0,layout:this.layouts[e]}),this.profile&&console.timeEnd("layout::initkeymap"),this.profile&&console.timeEnd("layout::reset"),this.profile&&console.time("layout::scale");const a=this.layouts[e];if(n(a)){const r=`

WARNING: layout ${e} does not exist on this keyboard

`;console.log(r),this.append(r),this.scrollToEnd();return}const t=a.reduce((r,i)=>{let s=Object.assign({w:1,h:1},i);const o=this.calcKeyKeymapPos(s.x,s.y),l=this.calcKeyKeymapDims(s.w,s.h);return r.x=Math.max(r.x,o.x+l.w),r.y=Math.max(r.y,o.y+l.h),r},{x:0,y:0});t.x>this.defaults.MAX_X&&(this.resizeConfig(t),t.x*=this.config.SCALE,t.y*=this.config.SCALE),this.setSize(t),this.profile&&console.timeEnd("layout::scale")}}},ne={};var Ba=p(Ma,Ia,Pa,!1,qa);function qa(e){for(let a in ne)this[a]=ne[a]}const Ja=function(){return Ba.exports}();var Ya=Math.ceil,Va=Math.max;function Ha(e,a,t,r){for(var i=-1,s=Va(Ya((a-e)/(t||1)),0),o=Array(s);s--;)o[r?s:++i]=e,e+=t;return o}var Wa=Ha,Ga=Wa,Qa=Be,R=qe;function Xa(e){return function(a,t,r){return r&&typeof r!="number"&&Qa(a,t,r)&&(t=r=void 0),a=R(a),t===void 0?(t=a,a=0):t=R(t),r=r===void 0?a<t?1:-1:R(r),Ga(a,t,r,e)}}var Za=Xa,er=Za,tr=er(!0),ar=tr;const rr=L(ar);var ir=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",[t("p",[t("label",[e._v(e._s(e.$t("layer.label"))+":")])]),t("div",{staticClass:"layers"},e._l(e.layers,function(r){return t("div",{key:r.id,staticClass:"layer",class:r.clazz,on:{click:function(i){return e.clicked(r.id)}}},[e._v(e._s(r.name))])}),0),t("button",{directives:[{name:"tooltip",rawName:"v-tooltip",value:e.$t("layer.title"),expression:"$t('layer.title')"}],staticClass:"ui-button",on:{click:e.clearLayer}},[t("font-awesome-icon",{attrs:{icon:"trash",size:"lg","fixed-width":""}})],1)])},sr=[];const or={name:"layer-control",computed:{...g("keymap",["layer"]),...g("app",["configuratorSettings"]),...f("keymap",["getLayer"]),layers(){return rr(16).map(a=>{let t=[a],r=this.getLayer(a);return n(r)||t.push("non-empty"),this.layer==a&&t.push("active"),{id:a,name:a,clazz:t.join(" ")}})},defaultClearLayerCode(){return this.configuratorSettings.clearLayerDefault?"KC_TRNS":"KC_NO"}},methods:{...u("keymap",["changeLayer","initLayer"]),clicked(e){n(this.getLayer(e))&&this.initLayer({layer:e,code:this.defaultClearLayerCode}),this.changeLayer(e)},clearLayer(){confirm(this.$t("layer.confirm"))&&(this.initLayer({layer:this.layer,code:this.defaultClearLayerCode}),this.$store.commit("keymap/setDirty"))}}},le={};var nr=p(or,ir,sr,!1,lr);function lr(e){for(let a in le)this[a]=le[a]}const cr=function(){return nr.exports}();var dr=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",[t("div",{ref:"console"},[e.appInitialized?t("controllerTop"):e._e(),t("statusPanel"),t("controllerBottom")],1),t("div",{staticClass:"hint hint-right"},[t("a",{directives:[{name:"tooltip",rawName:"v-tooltip",value:e.$t("downloadToolbox.label"),expression:"$t('downloadToolbox.label')"}],attrs:{href:"https://github.com/qmk/qmk_toolbox/releases",target:"_blank",rel:"noopener"}},[e._v(e._s(e.$t("downloadToolbox.label")))])]),t("div",{staticClass:"split-content"},[t("div",{staticClass:"left-side"},[t("layerControl")],1),t("div",{staticClass:"right-side"},[t("div",{staticClass:"keymap--area"},[t("label",{directives:[{name:"tooltip",rawName:"v-tooltip",value:e.$t("ColorwayTip.title"),expression:"$t('ColorwayTip.title')"}],staticClass:"keymap--label"},[e._v(" "+e._s(e.$t("keymap.label"))+": "),e.continuousInput?t("font-awesome-icon",{attrs:{icon:"keyboard","fixed-width":""}}):e._e()],1),e._v("   "),t("select",{directives:[{name:"model",rawName:"v-model",value:e.curIndex,expression:"curIndex"}],staticClass:"keymap--keyset",attrs:{id:"colorway-select"},on:{focus:e.focus,blur:e.blur,change:function(r){var i=Array.prototype.filter.call(r.target.options,function(s){return s.selected}).map(function(s){var o="_value"in s?s._value:s.value;return o});e.curIndex=r.target.multiple?i:i[0]}}},e._l(e.displayColorways,function(r,i){return t("option",{key:i,staticClass:"option",domProps:{value:i}},[e._v(" "+e._s(r)+" ")])}),0),t("a",{directives:[{name:"tooltip",rawName:"v-tooltip",value:e.$t("favoriteColor"),expression:"$t('favoriteColor')"}],class:{active:e.isFavoriteColor},attrs:{id:"favorite-colorway"},on:{click:e.favColor}},[t("font-awesome-icon",{attrs:{icon:"star",size:"lg","fixed-width":""}})],1)]),t("visualKeymap",{attrs:{profile:!1}}),t("span",{staticClass:"keymap--count"},[t("span",{staticClass:"keymap--counter"},[e._v(e._s(e.keyCount))]),e._v("Keys")])],1)])])},ur=[];const pr={name:"MainComponent",props:{},components:{ControllerTop:Bt,StatusPanel:Wt,ControllerBottom:ca,VisualKeymap:Ja,LayerControl:cr},computed:{...g("app",["appInitialized","configuratorSettings"]),...f("app",["keyCount"]),...g("keymap",["continuousInput"]),...f("keymap",["colorwayIndex","colorways","size"]),curIndex:{get(){return this.colorwayIndex},set(e){this.nextColorway(e)}},displayColorways(){return this.colorways.map(e=>e.replace(/-/g," ").split(" ").map(a=>Dt(a)).join(" ").replace(/Gmk/,"GMK").replace(/^Sa/,"SA").replace(/^Dsa/,"DSA").replace(/^Jtk/,"JTK").replace(/Kat/,"KAT").replace(/Wob/,"WOB").replace(/Ta/,"TA").replace(/Mt3/,"MT3").replace(/Dcs/,"DCS").replace(/Dev Tty/,"/dev/tty").replace(/ ?Plus/g,"+").replace(/ ?Dot ?/g,".").replace(/Ascii/,"ASCII"))},redditPost(){return"https://www.reddit.com/r/MechanicalKeyboards/comments/aio97b/qmk_configurator_updates_beta_need_your_input/"},isFavoriteColor(){return this.configuratorSettings.favoriteColor&&this.displayColorways[this.curIndex].toLowerCase()===this.configuratorSettings.favoriteColor.toLowerCase()}},methods:{...w("app",["setFavoriteColor","initKeypressListener"]),...u("keymap",["nextColorway"]),...u("app",["resetListener","stopListening","startListening"]),favColor(){this.isFavoriteColor?this.setFavoriteColor(""):this.setFavoriteColor(this.displayColorways[this.curIndex])},focus(){this.stopListening()},blur(){this.startListening()}},async mounted(){if(await this.initKeypressListener(),this.configuratorSettings.favoriteColor){const e=this.configuratorSettings.favoriteColor.toLowerCase();this.curIndex=this.displayColorways.findIndex(a=>a.toLowerCase()===e)}},beforeDestroy(){this.resetListener()}},ce={};var mr=p(pr,dr,ur,!1,gr);function gr(e){for(let a in ce)this[a]=ce[a]}const hr=function(){return mr.exports}();var yr=Je,vr=function(){return yr.Date.now()},fr=vr,br=Ve,O=fr,de=Ye,kr="Expected a function",_r=Math.max,wr=Math.min;function xr(e,a,t){var r,i,s,o,l,m,b=0,M=!1,x=!1,N=!0;if(typeof e!="function")throw new TypeError(kr);a=de(a)||0,br(t)&&(M=!!t.leading,x="maxWait"in t,s=x?_r(de(t.maxWait)||0,a):s,N="trailing"in t?!!t.trailing:N);function E(d){var y=r,$=i;return r=i=void 0,b=d,o=e.apply($,y),o}function Ne(d){return b=d,l=setTimeout(T,a),M?E(d):o}function Ee(d){var y=d-m,$=d-b,J=a-y;return x?wr(J,s-$):J}function B(d){var y=d-m,$=d-b;return m===void 0||y>=a||y<0||x&&$>=s}function T(){var d=O();if(B(d))return q(d);l=setTimeout(T,Ee(d))}function q(d){return l=void 0,N&&r?E(d):(r=i=void 0,o)}function De(){l!==void 0&&clearTimeout(l),b=0,r=m=i=l=void 0}function ze(){return l===void 0?o:q(O())}function D(){var d=O(),y=B(d);if(r=arguments,i=this,m=d,y){if(l===void 0)return Ne(m);if(x)return clearTimeout(l),l=setTimeout(T,a),E(m)}return l===void 0&&(l=setTimeout(T,a)),o}return D.cancel=De,D.flush=ze,D}var $r=xr;const Cr=L($r);var Lr=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"keycode ui-draggable ui-draggable-handle",class:e.computedClass,style:e.computedStyles,attrs:{draggable:"","data-type":e.type,"data-code":e.code},on:{drag:e.drag,dragstart:e.dragstart,dragend:e.dragend,click:e.clicked,mouseenter:function(r){return e.$emit("mouseenter")},mouseleave:function(r){return e.$emit("mouseleave")}}},[e._v(e._s(e.displayName))])},Sr=[];const Tr={name:"keycode-component",props:{type:String,code:String,title:String,width:null,name:String,classes:String,styles:Object,layer:Number},computed:{computedStyles(){return this.styles?this.styles:""},computedClass(){let e=[];return n(this.width)||e.push(`keycode-${this.width}`),n(this.type)||e.push(`keycode-${this.type}`),this.dragging&&e.push("dragging"),this.classes&&e.push(this.classes),e.join(" ")},displayName(){return this.name},displayTitle(){return this.title?`${this.code}
${this.title}`:this.code}},data(){return{dragging:!1,crt:void 0,hidden:void 0}},methods:{dragend(){this.dragging=!1,this.hidden.removeChild(this.crt)},drag(){},dragstart(e){this.crt=this.$el.cloneNode(!0),this.hidden.appendChild(this.crt),e.dataTransfer.setDragImage(this.crt,0,0),this.dragging=!0;let{name:a,code:t,type:r,layer:i}=this;e.dropEffect="copy",e.dataTransfer.dropEffect="move",e.dataTransfer.setData("application/json",JSON.stringify({name:a,type:r,code:t,layer:i}))},clicked(){this.$store.commit("keymap/setKeycode",{_code:this.code,layer:this.layer})}},mounted(){this.hidden=document.getElementsByClassName("qmk-hidden-drag-n-drop")[0]}},ue={};var Kr=p(Tr,Lr,Sr,!1,Fr);function Fr(e){for(let a in ue)this[a]=ue[a]}const pe=function(){return Kr.exports}();var jr=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"space",class:e.computedClass,attrs:{title:e.label},on:{mouseenter:function(r){return e.$emit("mouseenter")}}},[e._v(" "+e._s(e.label)+"  "),e.icon?t("span",{class:e.iconClass},[t("font-awesome-icon",{attrs:{icon:e.icon,"fixed-width":""}})],1):e._e()])},Nr=[];const Er={name:"space-component",props:{label:String,width:null,icon:{type:String,default:""},iconClass:{type:String,default:""}},computed:{computedClass(){let e=[];return n(this.width)||e.push(`space-${this.width}`),e}},data(){return{}}},me={};var Dr=p(Er,jr,Nr,!1,zr);function zr(e){for(let a in me)this[a]=me[a]}const ge=function(){return Dr.exports}();var Rr=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{attrs:{id:"keycodes-section"}},[t("div",{staticStyle:{"text-align":"left","margin-left":"10px"}},[t("p",[t("label",[e._v(e._s(e.$t("keycodes.label"))+":")]),t("span",{staticClass:"hint"},[t("a",{attrs:{href:"https://docs.qmk.fm/keycodes",title:e.$t("keycodesRef.label"),target:"_blank",rel:"noopener"}},[e._v(e._s(e.$t("keycodesRef.label")))])])])]),t("div",{attrs:{id:"keycodes"}},[t("div",{staticClass:"tabs"},[e._l(e.keycodesByGroup,function(r,i){return t("span",{key:i,staticClass:"tab",class:e.classes(i),attrs:{title:e.$t("keycodesTab."+i+".label")},on:{click:function(s){return e.changeActive(i)}}},[e._v(e._s(e.$t("keycodesTab."+i+".label"))),e.searchFilter!==""?t("span",[e._v("("+e._s(e.searchCounters[i])+")")]):e._e()])}),t("span",{staticClass:"end-tab"},[t("font-awesome-icon",{staticClass:"keycode-search-icon",attrs:{icon:"search"}}),t("input",{directives:[{name:"model",rawName:"v-model",value:e.searchFilter_,expression:"searchFilter_"}],attrs:{type:"text",placeholder:e.$t("searchKeycodes"),autocomplete:"off",spellcheck:"false"},domProps:{value:e.searchFilter_},on:{focus:e.stopListening,blur:e.startListening,input:function(r){r.target.composing||(e.searchFilter_=r.target.value)}}})],1)],2),t("div",{staticClass:"tab-area"},[e._l(e.activeTab,function(r,i){return[t(e.getComponent(r.code),e._b({key:i,tag:"component",class:e.filterClass(r),on:{mouseenter:function(s){return e.message(r)}}},"component",r,!1))]})],2)])])},Or=[];const Ur={name:"keycodes-component",components:{Keycode:pe,Space:ge},props:{},data(){return{clearTimeout:void 0}},mounted(){this.debouncedSetSearchFilter=Cr(this.setSearchFilter,500)},computed:{...we(Y,["keycodes","searchFilter","searchCounters","active"]),...g("app",["configuratorSettings"]),activeTab(){return this.keycodesByGroup[this.active]},keycodesByGroup(){let e=this.keycodes.reduce((a,t)=>(t.group?(a[t.label]=[],a.current=t.label):a[a.current].push(t),a),{});return delete e.current,e},searchFilter_:{get(){return this.searchFilter},set(e){this.debouncedSetSearchFilter(e)}}},methods:{...u("app",["setMessage","stopListening","startListening"]),...S(Y,["setSearchFilter","changeActive"]),getComponent(e){return n(e)?ge:pe},classes(e){let a=[];return e===this.active&&a.push("active"),a.join(" ")},message(e){if(!e.name)return;let a={};n(e.code)?a={title:e.title??e.name}:a={code:e.code,alias:e.alias??null,title:e.title??e.name},this.setMessage(a),this.messageClear()},messageClear(){this.clearTimeout&&window.clearTimeout(this.clearTimeout),this.clearTimeout=window.setTimeout(()=>{c.commit("app/setMessage",null)},3e3)},filterClass(e){if(this.searchFilter===""||n(e.code))return"";const a=this.searchFilter_.toUpperCase();if(!e.code.includes(a)&&!(e.name&&e.name.toUpperCase().includes(a))&&!(e.title&&e.title.toUpperCase().includes(a)))return"desaturated"}}},he={};var Ar=p(Ur,Rr,Or,!1,Ir);function Ir(e){for(let a in he)this[a]=he[a]}const Pr=function(){return Ar.exports}();var Mr=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",[t("div",{staticClass:"main"},[t("MainComponent")],1),t("div",[t("keycodes")],1)])},Br=[];const qr={name:"configurator-component",components:{MainComponent:hr,Keycodes:Pr},methods:{}},ye={};var Jr=p(qr,Mr,Br,!1,Yr);function Yr(e){for(let a in ye)this[a]=ye[a]}const Wr=function(){return Jr.exports}();export{Wr as default};
